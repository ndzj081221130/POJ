package p1000;import java.util.Scanner;public class MainFailed {	public static void main(String[] args) {		// TODO Auto-generated method stub		Scanner scanner = new Scanner(System.in);		int n = scanner.nextInt();		int m = scanner.nextInt();		int[][]array = new int[n][n];		for (int i = 0; i < array.length; i++) {			for (int j = 0; j < array.length; j++) {				array[i][j] = scanner.nextInt();			}		}		System.out.println(fac(n,m,array));	}	static int fac(int n,int m,int[][]array){				int count = 0;		for (int i = 0; i <= n-m; i++) {			for(int j = 0; j <= n-m;j++){				if(array[i][j] == 0){					array[i][j] = 1;					array[i][j+1] = invert(array[i][j+1]);					array[i+1][j] = invert(array[i+1][j]);					array[i+1][j+1] = invert(array[i+1][j+1]);					count++;				}			}		}		boolean f = Check(array,n);		if(f == true)			return count;		else {			return -1;		}	}		private static boolean Check(int[][] array,int n) {		// TODO Auto-generated method stub		boolean  f = true;		int s = 1;		for(int i = 0 ; i < n;i++){			for (int j = 0; j < n; j++) {				s *= array[i][j];			}		}		if(s == 1)			return true;		else {			return false;		}	}	static int invert(int i){		if(i == 1)			return 0;		else {			return 1;		}	}}