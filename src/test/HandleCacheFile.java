package test;import java.io.BufferedReader;import java.io.BufferedWriter;import java.io.File;import java.io.FileInputStream;import java.io.IOException;import java.io.InputStreamReader;import java.util.ArrayList;public class HandleCacheFile {	public static ArrayList<PointItem> buildCacheFile(String filename) {		File f = null;		String str = null;		ArrayList<PointItem> itemList = new ArrayList<PointItem>();		try {			FileInputStream fis = new FileInputStream(filename);			InputStreamReader isr = new InputStreamReader(fis);// , "UTF-8"						BufferedReader br = new BufferedReader(isr);			br.readLine();			str = br.readLine();			while (str != null) {				String[] arr = str.split(",");				if (arr.length >= 3) {					PointItem item =  new PointItem();					item.setWord(arr[0]);					item.setPoint(Double.parseDouble(arr[1]));					item.setKind(Kind.parseKind(arr[2]));					itemList.add(item);				}				str = br.readLine();			}		} catch (IOException ioe) {			System.out.println(ioe);		} catch (Exception e) {			System.out.println(e);		}		return itemList;	}	public static double remark(ArrayList<PointItem>list,String[] wordArray){		double sum = 0.0;		double nextMultiply = 1.0;		for (int i = 0; i < wordArray.length; i++) {						for(PointItem item:list){				if(item.getWord().equals(wordArray[i])){					if(item.getKind().equals(Kind.DEGREE) || item.getKind().equals(Kind.NOT))						nextMultiply = item.getPoint();					else {												sum += item.getPoint() * nextMultiply;						nextMultiply = 1.0;					}				}			}					}		return sum;	}		/**	 * @param args	 */	public static void main(String[] args) {		// TODO Auto-generated method stub		ArrayList<PointItem> list = HandleCacheFile.buildCacheFile("point.txt");//				String[] wordArray = new String[]{"我","怏怏不乐","心情","不开心","非常","郁郁寡欢","特别","高兴","[阳光]"};		System.out.println(HandleCacheFile.remark(list, wordArray));	}}